{"dependencies":[{"name":"./_concat","isAsync":false},{"name":"./_curry2","isAsync":false},{"name":"./_xfBase","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  var _concat = _$$_REQUIRE(_dependencyMap[0], './_concat');\n\n  var _curry2 = _$$_REQUIRE(_dependencyMap[1], './_curry2');\n\n  var _xfBase = _$$_REQUIRE(_dependencyMap[2], './_xfBase');\n\n  module.exports = function () {\n    function XAperture(n, xf) {\n      this.xf = xf;\n      this.pos = 0;\n      this.full = false;\n      this.acc = new Array(n);\n    }\n\n    XAperture.prototype['@@transducer/init'] = _xfBase.init;\n\n    XAperture.prototype['@@transducer/result'] = function (result) {\n      this.acc = null;\n      return this.xf['@@transducer/result'](result);\n    };\n\n    XAperture.prototype['@@transducer/step'] = function (result, input) {\n      this.store(input);\n      return this.full ? this.xf['@@transducer/step'](result, this.getCopy()) : result;\n    };\n\n    XAperture.prototype.store = function (input) {\n      this.acc[this.pos] = input;\n      this.pos += 1;\n\n      if (this.pos === this.acc.length) {\n        this.pos = 0;\n        this.full = true;\n      }\n    };\n\n    XAperture.prototype.getCopy = function () {\n      return _concat(Array.prototype.slice.call(this.acc, this.pos), Array.prototype.slice.call(this.acc, 0, this.pos));\n    };\n\n    return _curry2(function _xaperture(n, xf) {\n      return new XAperture(n, xf);\n    });\n  }();\n});","map":[[2,0,1,0],[2,6,1,4,"_concat"],[2,16,1,14,"require"],[2,47,1,22],[2,58,1,14],[2,59,1,0],[4,0,2,0],[4,6,2,4,"_curry2"],[4,16,2,14,"require"],[4,47,2,22],[4,58,2,14],[4,59,2,0],[6,0,3,0],[6,6,3,4,"_xfBase"],[6,16,3,14,"require"],[6,47,3,22],[6,58,3,14],[6,59,3,0],[8,0,6,0,"module"],[8,9,6,7,"exports"],[8,16,6,0],[8,19,6,18],[8,31,6,29],[9,0,7,2],[9,13,7,11,"XAperture"],[9,22,7,2],[9,23,7,21,"n"],[9,24,7,2],[9,26,7,24,"xf"],[9,28,7,2],[9,30,7,28],[10,0,8,4],[10,11,8,9,"xf"],[10,13,8,4],[10,16,8,14,"xf"],[10,18,8,4],[11,0,9,4],[11,11,9,9,"pos"],[11,14,9,4],[11,17,9,15],[11,18,9,4],[12,0,10,4],[12,11,10,9,"full"],[12,15,10,4],[12,18,10,16],[12,23,10,4],[13,0,11,4],[13,11,11,9,"acc"],[13,14,11,4],[13,17,11,15],[13,21,11,19,"Array"],[13,26,11,15],[13,27,11,25,"n"],[13,28,11,15],[13,29,11,4],[14,0,12,3],[16,0,13,2,"XAperture"],[16,14,13,12,"prototype"],[16,23,13,2],[16,24,13,22],[16,43,13,2],[16,47,13,45,"_xfBase"],[16,55,13,53,"init"],[16,59,13,2],[18,0,14,2,"XAperture"],[18,14,14,12,"prototype"],[18,23,14,2],[18,24,14,22],[18,45,14,2],[18,49,14,47],[18,59,14,56,"result"],[18,65,14,47],[18,67,14,64],[19,0,15,4],[19,11,15,9,"acc"],[19,14,15,4],[19,17,15,15],[19,21,15,4],[20,0,16,4],[20,13,16,11],[20,18,16,16,"xf"],[20,20,16,11],[20,21,16,19],[20,42,16,11],[20,44,16,42,"result"],[20,50,16,11],[20,51,16,4],[21,0,17,3],[21,5,14,2],[23,0,18,2,"XAperture"],[23,14,18,12,"prototype"],[23,23,18,2],[23,24,18,22],[23,43,18,2],[23,47,18,45],[23,57,18,54,"result"],[23,63,18,45],[23,65,18,62,"input"],[23,70,18,45],[23,72,18,69],[24,0,19,4],[24,11,19,9,"store"],[24,16,19,4],[24,17,19,15,"input"],[24,22,19,4],[25,0,20,4],[25,13,20,11],[25,18,20,16,"full"],[25,22,20,11],[25,25,20,23],[25,30,20,28,"xf"],[25,32,20,23],[25,33,20,31],[25,52,20,23],[25,54,20,52,"result"],[25,60,20,23],[25,62,20,60],[25,67,20,65,"getCopy"],[25,74,20,60],[25,76,20,23],[25,77,20,11],[25,80,20,78,"result"],[25,86,20,4],[26,0,21,3],[26,5,18,2],[28,0,22,2,"XAperture"],[28,14,22,12,"prototype"],[28,23,22,2],[28,24,22,22,"store"],[28,29,22,2],[28,32,22,30],[28,42,22,39,"input"],[28,47,22,30],[28,49,22,46],[29,0,23,4],[29,11,23,9,"acc"],[29,14,23,4],[29,15,23,13],[29,20,23,18,"pos"],[29,23,23,4],[29,27,23,25,"input"],[29,32,23,4],[30,0,24,4],[30,11,24,9,"pos"],[30,14,24,4],[30,18,24,16],[30,19,24,4],[32,0,25,4],[32,10,25,8],[32,15,25,13,"pos"],[32,18,25,8],[32,23,25,21],[32,28,25,26,"acc"],[32,31,25,21],[32,32,25,30,"length"],[32,38,25,4],[32,40,25,38],[33,0,26,6],[33,13,26,11,"pos"],[33,16,26,6],[33,19,26,17],[33,20,26,6],[34,0,27,6],[34,13,27,11,"full"],[34,17,27,6],[34,20,27,18],[34,24,27,6],[35,0,28,5],[36,0,29,3],[36,5,22,2],[38,0,30,2,"XAperture"],[38,14,30,12,"prototype"],[38,23,30,2],[38,24,30,22,"getCopy"],[38,31,30,2],[38,34,30,32],[38,46,30,43],[39,0,31,4],[39,13,31,11,"_concat"],[39,21,31,19,"Array"],[39,27,31,25,"prototype"],[39,36,31,19],[39,37,31,35,"slice"],[39,42,31,19],[39,43,31,41,"call"],[39,47,31,19],[39,48,31,46],[39,53,31,51,"acc"],[39,56,31,19],[39,58,31,56],[39,63,31,61,"pos"],[39,66,31,19],[39,67,31,11],[39,69,32,19,"Array"],[39,75,32,25,"prototype"],[39,84,32,19],[39,85,32,35,"slice"],[39,90,32,19],[39,91,32,41,"call"],[39,95,32,19],[39,96,32,46],[39,101,32,51,"acc"],[39,104,32,19],[39,106,32,56],[39,107,32,19],[39,109,32,59],[39,114,32,64,"pos"],[39,117,32,19],[39,118,31,11],[39,119,31,4],[40,0,33,3],[40,5,30,2],[42,0,35,2],[42,11,35,9,"_curry2"],[42,19,35,17],[42,28,35,26,"_xaperture"],[42,38,35,17],[42,39,35,37,"n"],[42,40,35,17],[42,42,35,40,"xf"],[42,44,35,17],[42,46,35,44],[43,0,35,46],[43,13,35,53],[43,17,35,57,"XAperture"],[43,26,35,53],[43,27,35,67,"n"],[43,28,35,53],[43,30,35,70,"xf"],[43,32,35,53],[43,33,35,46],[44,0,35,76],[44,5,35,9],[44,6,35,2],[45,0,36,1],[45,3,6,18],[45,5,6,0]]},"type":"js/module"}]}