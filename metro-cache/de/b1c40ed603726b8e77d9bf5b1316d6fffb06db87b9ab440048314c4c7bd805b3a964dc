{"dependencies":[{"name":"lodash.isequal","isAsync":false},{"name":"react-navigation","isAsync":false},{"name":"./ActionConst","isAsync":false},{"name":"./State","isAsync":false},{"name":"./navigationStore","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = createReducer;\n\n  var _lodash = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[0], \"lodash.isequal\"));\n\n  var _reactNavigation = _$$_REQUIRE(_dependencyMap[1], \"react-navigation\");\n\n  var ActionConst = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[2], \"./ActionConst\"));\n\n  var _State = _$$_REQUIRE(_dependencyMap[3], \"./State\");\n\n  function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function createReducer() {\n    return function (state, action) {\n      var navigationStore = _$$_REQUIRE(_dependencyMap[4], './navigationStore').default;\n\n      var type = action.type,\n          routeName = action.routeName;\n\n      if (type === ActionConst.POP_TO) {\n        var nextScene = '';\n        var newState = state;\n        var currentState = state;\n\n        while (newState && nextScene !== routeName) {\n          newState = navigationStore.getStateForAction(_reactNavigation.StackActions.pop(), currentState);\n\n          if (newState) {\n            nextScene = (0, _State.getActiveState)(newState).routeName;\n\n            if ((0, _lodash.default)(currentState, newState)) {\n              console.warn(\"popTo called with an unknown routeName: \" + routeName);\n              break;\n            }\n\n            if (nextScene !== routeName) {\n              currentState = newState;\n            }\n          }\n        }\n\n        return nextScene === routeName ? newState : state;\n      }\n\n      if (type === ActionConst.REPLACE) {\n        var _newState = navigationStore.getStateForAction(_reactNavigation.NavigationActions.navigate({\n          routeName: routeName,\n          params: action.params\n        }), state);\n\n        var res = (0, _State.popPrevious)(_newState, routeName);\n        return res;\n      }\n\n      return navigationStore.getStateForAction(action, state) || state;\n    };\n  }\n});","map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[19,0,6,15],[19,11,6,24,"createReducer"],[19,24,6,15],[19,27,6,40],[20,0,7,2],[20,11,7,9],[20,21,7,10,"state"],[20,26,7,9],[20,28,7,17,"action"],[20,34,7,9],[20,36,7,28],[21,0,8,4],[21,10,8,10,"navigationStore"],[21,28,8,28,"require"],[21,59,8,36],[21,78,8,28],[21,80,8,57,"default"],[21,87,8,4],[23,0,7,28],[23,10,9,12,"type"],[23,14,7,28],[23,17,9,32,"action"],[23,23,7,28],[23,24,9,12,"type"],[23,28,7,28],[24,0,7,28],[24,10,9,18,"routeName"],[24,19,7,28],[24,22,9,32,"action"],[24,28,7,28],[24,29,9,18,"routeName"],[24,38,7,28],[26,0,10,4],[26,10,10,8,"type"],[26,19,10,17,"ActionConst"],[26,31,10,29,"POP_TO"],[26,37,10,4],[26,39,10,37],[27,0,11,6],[27,12,11,10,"nextScene"],[27,24,11,22],[27,26,11,6],[28,0,12,6],[28,12,12,10,"newState"],[28,23,12,21,"state"],[28,28,12,6],[29,0,13,6],[29,12,13,10,"currentState"],[29,27,13,25,"state"],[29,32,13,6],[31,0,14,6],[31,15,14,13,"newState"],[31,27,14,25,"nextScene"],[31,41,14,39,"routeName"],[31,50,14,6],[31,52,14,50],[32,0,15,8,"newState"],[32,21,15,19,"navigationStore"],[32,37,15,35,"getStateForAction"],[32,54,15,19],[32,55,15,53,"StackActions"],[32,85,15,66,"pop"],[32,88,15,53],[32,90,15,19],[32,92,15,73,"currentState"],[32,104,15,19],[32,105,15,8],[34,0,16,8],[34,14,16,12,"newState"],[34,22,16,8],[34,24,16,22],[35,0,17,10,"nextScene"],[35,24,17,22],[35,51,17,37,"newState"],[35,59,17,22],[35,61,17,47,"routeName"],[35,70,17,10],[37,0,18,10],[37,16,18,14],[37,37,18,22,"currentState"],[37,49,18,14],[37,51,18,36,"newState"],[37,59,18,14],[37,60,18,10],[37,62,18,47],[38,0,19,12,"console"],[38,22,19,20,"warn"],[38,26,19,12],[38,72,19,68,"routeName"],[38,81,19,12],[39,0,20,12],[40,0,21,11],[42,0,22,10],[42,16,22,14,"nextScene"],[42,30,22,28,"routeName"],[42,39,22,10],[42,41,22,39],[43,0,23,12,"currentState"],[43,29,23,27,"newState"],[43,37,23,12],[44,0,24,11],[45,0,25,9],[46,0,26,7],[48,0,27,6],[48,15,27,13,"nextScene"],[48,29,27,27,"routeName"],[48,38,27,13],[48,41,27,39,"newState"],[48,49,27,13],[48,52,27,50,"state"],[48,57,27,6],[49,0,28,5],[51,0,29,4],[51,10,29,8,"type"],[51,19,29,17,"ActionConst"],[51,31,29,29,"REPLACE"],[51,38,29,4],[51,40,29,38],[52,0,30,6],[52,12,30,12,"newState"],[52,24,30,23,"navigationStore"],[52,40,30,39,"getStateForAction"],[52,57,30,23],[52,58,31,8,"NavigationActions"],[52,93,31,26,"navigate"],[52,101,31,8],[52,102,31,35],[53,0,32,10,"routeName"],[53,30,31,35],[54,0,33,10,"params"],[54,18,33,18,"action"],[54,25,33,25,"params"],[55,0,31,35],[55,9,31,8],[55,10,30,23],[55,12,35,8,"state"],[55,17,30,23],[55,18,30,6],[57,0,37,6],[57,12,37,12,"res"],[57,18,37,18],[57,42,37,30,"newState"],[57,51,37,18],[57,53,37,40,"routeName"],[57,62,37,18],[57,63,37,6],[58,0,38,6],[58,15,38,13,"res"],[58,18,38,6],[59,0,39,5],[61,0,40,4],[61,13,40,11,"navigationStore"],[61,29,40,27,"getStateForAction"],[61,46,40,11],[61,47,40,45,"action"],[61,53,40,11],[61,55,40,53,"state"],[61,60,40,11],[61,65,40,63,"state"],[61,70,40,4],[62,0,41,3],[62,5,7,2],[63,0,42,1]]},"type":"js/module"}]}