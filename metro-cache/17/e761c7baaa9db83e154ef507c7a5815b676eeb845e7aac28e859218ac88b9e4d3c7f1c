{"dependencies":[{"name":"redux-saga/effects","isAsync":false},{"name":"../constants/publicCallbacks","isAsync":false},{"name":"../actions/chatActions","isAsync":false},{"name":"@livechat/saga-utils","isAsync":false},{"name":"../reducers","isAsync":false},{"name":"../actions/propsActions","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  'use strict';\n\n  exports.__esModule = true;\n  exports.default = _callee;\n\n  var _effects = _$$_REQUIRE(_dependencyMap[0], 'redux-saga/effects');\n\n  var _publicCallbacks = _$$_REQUIRE(_dependencyMap[1], '../constants/publicCallbacks');\n\n  var _chatActions = _$$_REQUIRE(_dependencyMap[2], '../actions/chatActions');\n\n  var chatActions = _interopRequireWildcard(_chatActions);\n\n  var _sagaUtils = _$$_REQUIRE(_dependencyMap[3], '@livechat/saga-utils');\n\n  var _reducers = _$$_REQUIRE(_dependencyMap[4], '../reducers');\n\n  var _propsActions = _$$_REQUIRE(_dependencyMap[5], '../actions/propsActions');\n\n  var _propsActions2 = _interopRequireDefault(_propsActions);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  var _marked = regeneratorRuntime.mark(startChatWatcher),\n      _marked2 = regeneratorRuntime.mark(newMessageWatcher),\n      _marked3 = regeneratorRuntime.mark(newFileWatcher),\n      _marked4 = regeneratorRuntime.mark(visitorIdWatcher),\n      _marked5 = regeneratorRuntime.mark(_callee);\n\n  function startChatWatcher(_ref) {\n    var emitter = _ref.emitter;\n    var chatId;\n    return regeneratorRuntime.wrap(function startChatWatcher$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return (0, _effects.call)(_sagaUtils.waitForState, _reducers.propsSelectors.getPropertyChatId);\n\n          case 2:\n            chatId = _context.sent;\n            emitter.emit(_publicCallbacks.CHAT_STARTED, {\n              chatId: chatId\n            });\n            _context.next = 6;\n            return (0, _effects.take)(chatActions.chatEnded.getActionName());\n\n          case 6:\n            emitter.emit(_publicCallbacks.CHAT_ENDED);\n\n          case 7:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _marked, this);\n  }\n\n  function statusWatcher(_ref2, _ref3) {\n    var emitter = _ref2.emitter;\n    var payload = _ref3.payload;\n    emitter.emit(_publicCallbacks.STATUS_CHANGED, {\n      status: payload.data.toLowerCase()\n    });\n  }\n\n  function connectionStatusWatcher(_ref4, _ref5) {\n    var emitter = _ref4.emitter;\n    var payload = _ref5.payload;\n    emitter.emit(_publicCallbacks.CONNECTION_STATUS_CHANGED, {\n      status: payload.data.toLowerCase()\n    });\n  }\n\n  function newMessageWatcher(_ref6, _ref7) {\n    var emitter = _ref6.emitter;\n    var payload = _ref7.payload;\n    var chatId, visitorId, message;\n    return regeneratorRuntime.wrap(function newMessageWatcher$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return (0, _effects.call)(_sagaUtils.waitForState, _reducers.propsSelectors.getPropertyChatId);\n\n          case 2:\n            chatId = _context2.sent;\n            _context2.next = 5;\n            return (0, _effects.select)(_reducers.propsSelectors.getPropertyVisitorId);\n\n          case 5:\n            visitorId = _context2.sent;\n            message = {\n              id: payload.id,\n              timestamp: payload.timestamp,\n              authorId: payload.authorType === 'visitor' ? visitorId : payload.authorId,\n              text: payload.text,\n              chatId: chatId\n            };\n\n            if (typeof payload.isMobile !== 'undefined') {\n              message.isMobile = payload.isMobile;\n            }\n\n            if (typeof payload.customId !== 'undefined') {\n              message.customId = payload.customId;\n            }\n\n            emitter.emit(_publicCallbacks.NEW_MESSAGE, message);\n\n          case 10:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _marked2, this);\n  }\n\n  function newFileWatcher(_ref8, _ref9) {\n    var emitter = _ref8.emitter;\n    var payload = _ref9.payload;\n    var visitorId, message;\n    return regeneratorRuntime.wrap(function newFileWatcher$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return (0, _effects.select)(_reducers.propsSelectors.getPropertyVisitorId);\n\n          case 2:\n            visitorId = _context3.sent;\n            message = {\n              id: payload.id,\n              timestamp: payload.timestamp,\n              authorId: payload.authorType === 'visitor' ? visitorId : payload.authorId,\n              url: payload.url,\n              contentType: payload.contentType,\n              size: payload.size\n            };\n            emitter.emit(_publicCallbacks.NEW_FILE, message);\n\n          case 5:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _marked3, this);\n  }\n\n  function newAgentWatcher(_ref10, _ref11) {\n    var emitter = _ref10.emitter;\n    var payload = _ref11.payload;\n    var agentData = {\n      name: payload.name,\n      id: payload.id\n    };\n\n    if (payload.avatarUrl) {\n      agentData.avatarUrl = payload.avatarUrl;\n    }\n\n    if (payload.jobTitle) {\n      agentData.jobTitle = payload.jobTitle;\n    }\n\n    emitter.emit(_publicCallbacks.AGENT_CHANGED, agentData);\n  }\n\n  function visitorQueuedWatcher(_ref12, _ref13) {\n    var emitter = _ref12.emitter;\n    var payload = _ref13.payload;\n    var numberInQueue = payload.numberInQueue,\n        waitingTime = payload.waitingTime;\n    emitter.emit(_publicCallbacks.VISITOR_QUEUED, {\n      numberInQueue: numberInQueue,\n      waitingTime: waitingTime\n    });\n  }\n\n  function typingIndicatorWatcher(_ref14, _ref15) {\n    var emitter = _ref14.emitter;\n    var payload = _ref15.payload;\n    var authorId = payload.authorId,\n        isTyping = payload.isTyping;\n    emitter.emit(_publicCallbacks.TYPING_INDICATOR, {\n      authorId: authorId,\n      isTyping: isTyping\n    });\n  }\n\n  function visitorIdWatcher(_ref16) {\n    var emitter = _ref16.emitter;\n    var visitorId;\n    return regeneratorRuntime.wrap(function visitorIdWatcher$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return (0, _effects.call)(_sagaUtils.waitForState, _reducers.propsSelectors.getPropertyVisitorId);\n\n          case 2:\n            visitorId = _context4.sent;\n            Promise.resolve({}).then(function () {\n              emitter.emit(_publicCallbacks.VISITOR_DATA, {\n                id: visitorId\n              });\n            });\n\n          case 4:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _marked4, this);\n  }\n\n  function _callee(_ref17) {\n    var emitter = _ref17.emitter;\n    return regeneratorRuntime.wrap(function _callee$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return (0, _effects.fork)(visitorIdWatcher, {\n              emitter: emitter\n            });\n\n          case 2:\n            _context5.next = 4;\n            return (0, _effects.takeEvery)(chatActions.chatStarted.getActionName(), startChatWatcher, {\n              emitter: emitter\n            });\n\n          case 4:\n            _context5.next = 6;\n            return (0, _effects.takeEvery)(_propsActions2.default.setPropertyChatStatus.getActionName(), statusWatcher, {\n              emitter: emitter\n            });\n\n          case 6:\n            _context5.next = 8;\n            return (0, _effects.takeEvery)(_propsActions2.default.setPropertyConnectionStatus.getActionName(), connectionStatusWatcher, {\n              emitter: emitter\n            });\n\n          case 8:\n            _context5.next = 10;\n            return (0, _effects.takeEvery)(chatActions.newMessage.getActionName(), newMessageWatcher, {\n              emitter: emitter\n            });\n\n          case 10:\n            _context5.next = 12;\n            return (0, _effects.takeEvery)(chatActions.newFile.getActionName(), newFileWatcher, {\n              emitter: emitter\n            });\n\n          case 12:\n            _context5.next = 14;\n            return (0, _effects.takeEvery)(chatActions.newAgent.getActionName(), newAgentWatcher, {\n              emitter: emitter\n            });\n\n          case 14:\n            _context5.next = 16;\n            return (0, _effects.takeEvery)(chatActions.visitorQueued.getActionName(), visitorQueuedWatcher, {\n              emitter: emitter\n            });\n\n          case 16:\n            _context5.next = 18;\n            return (0, _effects.takeEvery)(chatActions.typingIndicator.getActionName(), typingIndicatorWatcher, {\n              emitter: emitter\n            });\n\n          case 18:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _marked5, this);\n  }\n});","map":[[2,0,1,0],[4,0,3,0,"exports"],[4,10,3,8,"__esModule"],[4,20,3,0],[4,23,3,21],[4,27,3,0],[5,0,4,0,"exports"],[5,10,4,8,"default"],[5,17,4,0],[5,20,4,18,"_callee"],[5,27,4,0],[7,0,6,0],[7,6,6,4,"_effects"],[7,17,6,15,"require"],[7,48,6,23],[7,68,6,15],[7,69,6,0],[9,0,8,0],[9,6,8,4,"_publicCallbacks"],[9,25,8,23,"require"],[9,56,8,31],[9,86,8,23],[9,87,8,0],[11,0,10,0],[11,6,10,4,"_chatActions"],[11,21,10,19,"require"],[11,52,10,27],[11,76,10,19],[11,77,10,0],[13,0,12,0],[13,6,12,4,"chatActions"],[13,20,12,18,"_interopRequireWildcard"],[13,44,12,42,"_chatActions"],[13,56,12,18],[13,57,12,0],[15,0,14,0],[15,6,14,4,"_sagaUtils"],[15,19,14,17,"require"],[15,50,14,25],[15,72,14,17],[15,73,14,0],[17,0,16,0],[17,6,16,4,"_reducers"],[17,18,16,16,"require"],[17,49,16,24],[17,62,16,16],[17,63,16,0],[19,0,18,0],[19,6,18,4,"_propsActions"],[19,22,18,20,"require"],[19,53,18,28],[19,78,18,20],[19,79,18,0],[21,0,20,0],[21,6,20,4,"_propsActions2"],[21,23,20,21,"_interopRequireDefault"],[21,46,20,44,"_propsActions"],[21,59,20,21],[21,60,20,0],[23,0,22,0],[23,11,22,9,"_interopRequireDefault"],[23,33,22,0],[23,34,22,32,"obj"],[23,37,22,0],[23,39,22,37],[24,0,22,39],[24,11,22,46,"obj"],[24,18,22,53,"obj"],[24,22,22,57,"__esModule"],[24,32,22,46],[24,35,22,70,"obj"],[24,38,22,46],[24,41,22,76],[25,0,22,78,"default"],[25,15,22,87,"obj"],[26,0,22,76],[26,5,22,39],[27,0,22,95],[29,0,24,0],[29,11,24,9,"_interopRequireWildcard"],[29,34,24,0],[29,35,24,33,"obj"],[29,38,24,0],[29,40,24,38],[30,0,24,40],[30,8,24,44,"obj"],[30,15,24,51,"obj"],[30,19,24,55,"__esModule"],[30,29,24,40],[30,31,24,67],[31,0,24,69],[31,13,24,76,"obj"],[31,16,24,69],[32,0,24,82],[32,5,24,40],[32,11,24,88],[33,0,24,90],[33,10,24,94,"newObj"],[33,19,24,103],[33,21,24,90],[35,0,24,107],[35,10,24,111,"obj"],[35,17,24,118],[35,21,24,107],[35,23,24,124],[36,0,24,126],[36,13,24,131],[36,17,24,135,"key"],[36,20,24,126],[36,24,24,142,"obj"],[36,27,24,126],[36,29,24,147],[37,0,24,149],[37,14,24,153,"Object"],[37,21,24,160,"prototype"],[37,30,24,153],[37,31,24,170,"hasOwnProperty"],[37,45,24,153],[37,46,24,185,"call"],[37,50,24,153],[37,51,24,190,"obj"],[37,54,24,153],[37,56,24,195,"key"],[37,59,24,153],[37,60,24,149],[37,62,24,201,"newObj"],[37,69,24,208,"key"],[37,72,24,201],[37,76,24,215,"obj"],[37,80,24,219,"key"],[37,83,24,215],[37,84,24,201],[38,0,24,226],[39,0,24,228],[41,0,24,229,"newObj"],[41,13,24,236,"default"],[41,20,24,229],[41,23,24,246,"obj"],[41,26,24,229],[42,0,24,251],[42,13,24,258,"newObj"],[42,19,24,251],[43,0,24,267],[44,0,24,269],[46,0,26,0],[46,6,26,4,"_marked"],[46,16,26,27,"regeneratorRuntime"],[46,35,26,46,"mark"],[46,39,26,27],[46,40,26,51,"startChatWatcher"],[46,56,26,27],[46,57,26,0],[47,0,26,0],[47,6,27,4,"_marked2"],[47,17,27,28,"regeneratorRuntime"],[47,36,27,47,"mark"],[47,40,27,28],[47,41,27,52,"newMessageWatcher"],[47,58,27,28],[47,59,26,0],[48,0,26,0],[48,6,28,4,"_marked3"],[48,17,28,28,"regeneratorRuntime"],[48,36,28,47,"mark"],[48,40,28,28],[48,41,28,52,"newFileWatcher"],[48,55,28,28],[48,56,26,0],[49,0,26,0],[49,6,29,4,"_marked4"],[49,17,29,28,"regeneratorRuntime"],[49,36,29,47,"mark"],[49,40,29,28],[49,41,29,52,"visitorIdWatcher"],[49,57,29,28],[49,58,26,0],[50,0,26,0],[50,6,30,4,"_marked5"],[50,17,30,28,"regeneratorRuntime"],[50,36,30,47,"mark"],[50,40,30,28],[50,41,30,52,"_callee"],[50,48,30,28],[50,49,26,0],[52,0,32,0],[52,11,32,9,"startChatWatcher"],[52,27,32,0],[52,28,32,26,"_ref"],[52,32,32,0],[52,34,32,32],[53,0,33,1],[53,8,33,5,"emitter"],[53,18,33,15,"_ref"],[53,23,33,20,"emitter"],[53,30,33,1],[54,0,34,1],[54,8,34,5,"chatId"],[54,14,34,1],[55,0,35,1],[55,11,35,8,"regeneratorRuntime"],[55,30,35,27,"wrap"],[55,34,35,8],[55,35,35,32],[55,44,35,41,"startChatWatcher$"],[55,61,35,32],[55,62,35,59,"_context"],[55,70,35,32],[55,72,35,69],[56,0,36,2],[56,13,36,9],[56,14,36,2],[56,16,36,12],[57,0,37,3],[57,16,37,11,"_context"],[57,25,37,20,"prev"],[57,29,37,11],[57,32,37,27,"_context"],[57,41,37,36,"next"],[57,45,37,3],[58,0,38,4],[58,15,38,9],[58,16,38,4],[59,0,39,5,"_context"],[59,21,39,14,"next"],[59,25,39,5],[59,28,39,21],[59,29,39,5],[60,0,40,5],[60,19,40,12],[60,20,40,13],[60,23,40,16,"_effects"],[60,32,40,25,"call"],[60,36,40,12],[60,38,40,31,"_sagaUtils"],[60,49,40,42,"waitForState"],[60,61,40,12],[60,63,40,56,"_reducers"],[60,73,40,66,"propsSelectors"],[60,87,40,56],[60,88,40,81,"getPropertyChatId"],[60,105,40,12],[60,106,40,5],[62,0,42,4],[62,15,42,9],[62,16,42,4],[63,0,43,5,"chatId"],[63,21,43,14,"_context"],[63,30,43,23,"sent"],[63,34,43,5],[64,0,45,5,"emitter"],[64,20,45,13,"emit"],[64,24,45,5],[64,25,45,18,"_publicCallbacks"],[64,42,45,35,"CHAT_STARTED"],[64,54,45,5],[64,56,45,49],[65,0,46,6,"chatId"],[65,22,46,14,"chatId"],[66,0,45,49],[66,13,45,5],[67,0,48,5,"_context"],[67,21,48,14,"next"],[67,25,48,5],[67,28,48,21],[67,29,48,5],[68,0,49,5],[68,19,49,12],[68,20,49,13],[68,23,49,16,"_effects"],[68,32,49,25,"take"],[68,36,49,12],[68,38,49,31,"chatActions"],[68,50,49,43,"chatEnded"],[68,59,49,31],[68,60,49,53,"getActionName"],[68,73,49,31],[68,75,49,12],[68,76,49,5],[70,0,51,4],[70,15,51,9],[70,16,51,4],[71,0,52,5,"emitter"],[71,20,52,13,"emit"],[71,24,52,5],[71,25,52,18,"_publicCallbacks"],[71,42,52,35,"CHAT_ENDED"],[71,52,52,5],[73,0,54,4],[73,15,54,9],[73,16,54,4],[74,0,55,4],[74,15,55,9],[74,20,55,4],[75,0,56,5],[75,19,56,12,"_context"],[75,28,56,21,"stop"],[75,32,56,12],[75,34,56,5],[76,0,37,3],[77,0,58,3],[78,0,59,2],[78,5,35,8],[78,7,59,4,"_marked"],[78,14,35,8],[78,16,59,13],[78,20,35,8],[78,21,35,1],[79,0,60,1],[81,0,62,0],[81,11,62,9,"statusWatcher"],[81,24,62,0],[81,25,62,23,"_ref2"],[81,30,62,0],[81,32,62,30,"_ref3"],[81,37,62,0],[81,39,62,37],[82,0,63,1],[82,8,63,5,"emitter"],[82,18,63,15,"_ref2"],[82,24,63,21,"emitter"],[82,31,63,1],[83,0,64,1],[83,8,64,5,"payload"],[83,18,64,15,"_ref3"],[83,24,64,21,"payload"],[83,31,64,1],[84,0,66,1,"emitter"],[84,12,66,9,"emit"],[84,16,66,1],[84,17,66,14,"_publicCallbacks"],[84,34,66,31,"STATUS_CHANGED"],[84,48,66,1],[84,50,66,47],[85,0,67,2,"status"],[85,14,67,10,"payload"],[85,22,67,18,"data"],[85,26,67,10],[85,27,67,23,"toLowerCase"],[85,38,67,10],[86,0,66,47],[86,5,66,1],[87,0,69,1],[89,0,71,0],[89,11,71,9,"connectionStatusWatcher"],[89,34,71,0],[89,35,71,33,"_ref4"],[89,40,71,0],[89,42,71,40,"_ref5"],[89,47,71,0],[89,49,71,47],[90,0,72,1],[90,8,72,5,"emitter"],[90,18,72,15,"_ref4"],[90,24,72,21,"emitter"],[90,31,72,1],[91,0,73,1],[91,8,73,5,"payload"],[91,18,73,15,"_ref5"],[91,24,73,21,"payload"],[91,31,73,1],[92,0,75,1,"emitter"],[92,12,75,9,"emit"],[92,16,75,1],[92,17,75,14,"_publicCallbacks"],[92,34,75,31,"CONNECTION_STATUS_CHANGED"],[92,59,75,1],[92,61,75,58],[93,0,76,2,"status"],[93,14,76,10,"payload"],[93,22,76,18,"data"],[93,26,76,10],[93,27,76,23,"toLowerCase"],[93,38,76,10],[94,0,75,58],[94,5,75,1],[95,0,78,1],[97,0,80,0],[97,11,80,9,"newMessageWatcher"],[97,28,80,0],[97,29,80,27,"_ref6"],[97,34,80,0],[97,36,80,34,"_ref7"],[97,41,80,0],[97,43,80,41],[98,0,81,1],[98,8,81,5,"emitter"],[98,18,81,15,"_ref6"],[98,24,81,21,"emitter"],[98,31,81,1],[99,0,82,1],[99,8,82,5,"payload"],[99,18,82,15,"_ref7"],[99,24,82,21,"payload"],[99,31,82,1],[100,0,83,1],[100,8,83,5,"chatId"],[100,14,83,1],[100,16,83,13,"visitorId"],[100,25,83,1],[100,27,83,24,"message"],[100,34,83,1],[101,0,84,1],[101,11,84,8,"regeneratorRuntime"],[101,30,84,27,"wrap"],[101,34,84,8],[101,35,84,32],[101,44,84,41,"newMessageWatcher$"],[101,62,84,32],[101,63,84,60,"_context2"],[101,72,84,32],[101,74,84,71],[102,0,85,2],[102,13,85,9],[102,14,85,2],[102,16,85,12],[103,0,86,3],[103,16,86,11,"_context2"],[103,26,86,21,"prev"],[103,30,86,11],[103,33,86,28,"_context2"],[103,43,86,38,"next"],[103,47,86,3],[104,0,87,4],[104,15,87,9],[104,16,87,4],[105,0,88,5,"_context2"],[105,22,88,15,"next"],[105,26,88,5],[105,29,88,22],[105,30,88,5],[106,0,89,5],[106,19,89,12],[106,20,89,13],[106,23,89,16,"_effects"],[106,32,89,25,"call"],[106,36,89,12],[106,38,89,31,"_sagaUtils"],[106,49,89,42,"waitForState"],[106,61,89,12],[106,63,89,56,"_reducers"],[106,73,89,66,"propsSelectors"],[106,87,89,56],[106,88,89,81,"getPropertyChatId"],[106,105,89,12],[106,106,89,5],[108,0,91,4],[108,15,91,9],[108,16,91,4],[109,0,92,5,"chatId"],[109,21,92,14,"_context2"],[109,31,92,24,"sent"],[109,35,92,5],[110,0,93,5,"_context2"],[110,22,93,15,"next"],[110,26,93,5],[110,29,93,22],[110,30,93,5],[111,0,94,5],[111,19,94,12],[111,20,94,13],[111,23,94,16,"_effects"],[111,32,94,25,"select"],[111,38,94,12],[111,40,94,33,"_reducers"],[111,50,94,43,"propsSelectors"],[111,64,94,33],[111,65,94,58,"getPropertyVisitorId"],[111,85,94,12],[111,86,94,5],[113,0,96,4],[113,15,96,9],[113,16,96,4],[114,0,97,5,"visitorId"],[114,24,97,17,"_context2"],[114,34,97,27,"sent"],[114,38,97,5],[115,0,98,5,"message"],[115,22,98,15],[116,0,99,6,"id"],[116,18,99,10,"payload"],[116,26,99,18,"id"],[116,28,98,15],[117,0,100,6,"timestamp"],[117,25,100,17,"payload"],[117,33,100,25,"timestamp"],[117,42,98,15],[118,0,101,6,"authorId"],[118,24,101,16,"payload"],[118,32,101,24,"authorType"],[118,42,101,16],[118,47,101,39],[118,56,101,16],[118,59,101,51,"visitorId"],[118,68,101,16],[118,71,101,63,"payload"],[118,79,101,71,"authorId"],[118,87,98,15],[119,0,102,6,"text"],[119,20,102,12,"payload"],[119,28,102,20,"text"],[119,32,98,15],[120,0,103,6,"chatId"],[120,22,103,14,"chatId"],[121,0,98,15],[121,13,98,5],[123,0,106,5],[123,16,106,9],[123,23,106,16,"payload"],[123,31,106,24,"isMobile"],[123,39,106,9],[123,44,106,37],[123,55,106,5],[123,57,106,50],[124,0,107,6,"message"],[124,22,107,14,"isMobile"],[124,30,107,6],[124,33,107,25,"payload"],[124,41,107,33,"isMobile"],[124,49,107,6],[125,0,108,6],[127,0,109,5],[127,16,109,9],[127,23,109,16,"payload"],[127,31,109,24,"customId"],[127,39,109,9],[127,44,109,37],[127,55,109,5],[127,57,109,50],[128,0,110,6,"message"],[128,22,110,14,"customId"],[128,30,110,6],[128,33,110,25,"payload"],[128,41,110,33,"customId"],[128,49,110,6],[129,0,111,6],[131,0,112,5,"emitter"],[131,20,112,13,"emit"],[131,24,112,5],[131,25,112,18,"_publicCallbacks"],[131,42,112,35,"NEW_MESSAGE"],[131,53,112,5],[131,55,112,48,"message"],[131,62,112,5],[133,0,114,4],[133,15,114,9],[133,17,114,4],[134,0,115,4],[134,15,115,9],[134,20,115,4],[135,0,116,5],[135,19,116,12,"_context2"],[135,29,116,22,"stop"],[135,33,116,12],[135,35,116,5],[136,0,86,3],[137,0,118,3],[138,0,119,2],[138,5,84,8],[138,7,119,4,"_marked2"],[138,15,84,8],[138,17,119,14],[138,21,84,8],[138,22,84,1],[139,0,120,1],[141,0,122,0],[141,11,122,9,"newFileWatcher"],[141,25,122,0],[141,26,122,24,"_ref8"],[141,31,122,0],[141,33,122,31,"_ref9"],[141,38,122,0],[141,40,122,38],[142,0,123,1],[142,8,123,5,"emitter"],[142,18,123,15,"_ref8"],[142,24,123,21,"emitter"],[142,31,123,1],[143,0,124,1],[143,8,124,5,"payload"],[143,18,124,15,"_ref9"],[143,24,124,21,"payload"],[143,31,124,1],[144,0,125,1],[144,8,125,5,"visitorId"],[144,17,125,1],[144,19,125,16,"message"],[144,26,125,1],[145,0,126,1],[145,11,126,8,"regeneratorRuntime"],[145,30,126,27,"wrap"],[145,34,126,8],[145,35,126,32],[145,44,126,41,"newFileWatcher$"],[145,59,126,32],[145,60,126,57,"_context3"],[145,69,126,32],[145,71,126,68],[146,0,127,2],[146,13,127,9],[146,14,127,2],[146,16,127,12],[147,0,128,3],[147,16,128,11,"_context3"],[147,26,128,21,"prev"],[147,30,128,11],[147,33,128,28,"_context3"],[147,43,128,38,"next"],[147,47,128,3],[148,0,129,4],[148,15,129,9],[148,16,129,4],[149,0,130,5,"_context3"],[149,22,130,15,"next"],[149,26,130,5],[149,29,130,22],[149,30,130,5],[150,0,131,5],[150,19,131,12],[150,20,131,13],[150,23,131,16,"_effects"],[150,32,131,25,"select"],[150,38,131,12],[150,40,131,33,"_reducers"],[150,50,131,43,"propsSelectors"],[150,64,131,33],[150,65,131,58,"getPropertyVisitorId"],[150,85,131,12],[150,86,131,5],[152,0,133,4],[152,15,133,9],[152,16,133,4],[153,0,134,5,"visitorId"],[153,24,134,17,"_context3"],[153,34,134,27,"sent"],[153,38,134,5],[154,0,135,5,"message"],[154,22,135,15],[155,0,136,6,"id"],[155,18,136,10,"payload"],[155,26,136,18,"id"],[155,28,135,15],[156,0,137,6,"timestamp"],[156,25,137,17,"payload"],[156,33,137,25,"timestamp"],[156,42,135,15],[157,0,138,6,"authorId"],[157,24,138,16,"payload"],[157,32,138,24,"authorType"],[157,42,138,16],[157,47,138,39],[157,56,138,16],[157,59,138,51,"visitorId"],[157,68,138,16],[157,71,138,63,"payload"],[157,79,138,71,"authorId"],[157,87,135,15],[158,0,139,6,"url"],[158,19,139,11,"payload"],[158,27,139,19,"url"],[158,30,135,15],[159,0,140,6,"contentType"],[159,27,140,19,"payload"],[159,35,140,27,"contentType"],[159,46,135,15],[160,0,141,6,"size"],[160,20,141,12,"payload"],[160,28,141,20,"size"],[161,0,135,15],[161,13,135,5],[162,0,144,5,"emitter"],[162,20,144,13,"emit"],[162,24,144,5],[162,25,144,18,"_publicCallbacks"],[162,42,144,35,"NEW_FILE"],[162,50,144,5],[162,52,144,45,"message"],[162,59,144,5],[164,0,146,4],[164,15,146,9],[164,16,146,4],[165,0,147,4],[165,15,147,9],[165,20,147,4],[166,0,148,5],[166,19,148,12,"_context3"],[166,29,148,22,"stop"],[166,33,148,12],[166,35,148,5],[167,0,128,3],[168,0,150,3],[169,0,151,2],[169,5,126,8],[169,7,151,4,"_marked3"],[169,15,126,8],[169,17,151,14],[169,21,126,8],[169,22,126,1],[170,0,152,1],[172,0,154,0],[172,11,154,9,"newAgentWatcher"],[172,26,154,0],[172,27,154,25,"_ref10"],[172,33,154,0],[172,35,154,33,"_ref11"],[172,41,154,0],[172,43,154,41],[173,0,155,1],[173,8,155,5,"emitter"],[173,18,155,15,"_ref10"],[173,25,155,22,"emitter"],[173,32,155,1],[174,0,156,1],[174,8,156,5,"payload"],[174,18,156,15,"_ref11"],[174,25,156,22,"payload"],[174,32,156,1],[175,0,158,1],[175,8,158,5,"agentData"],[175,20,158,17],[176,0,159,2,"name"],[176,12,159,8,"payload"],[176,20,159,16,"name"],[176,24,158,17],[177,0,160,2,"id"],[177,10,160,6,"payload"],[177,18,160,14,"id"],[178,0,158,17],[178,5,158,1],[180,0,162,1],[180,8,162,5,"payload"],[180,16,162,13,"avatarUrl"],[180,25,162,1],[180,27,162,24],[181,0,163,2,"agentData"],[181,16,163,12,"avatarUrl"],[181,25,163,2],[181,28,163,24,"payload"],[181,36,163,32,"avatarUrl"],[181,45,163,2],[182,0,164,2],[184,0,165,1],[184,8,165,5,"payload"],[184,16,165,13,"jobTitle"],[184,24,165,1],[184,26,165,23],[185,0,166,2,"agentData"],[185,16,166,12,"jobTitle"],[185,24,166,2],[185,27,166,23,"payload"],[185,35,166,31,"jobTitle"],[185,43,166,2],[186,0,167,2],[188,0,168,1,"emitter"],[188,12,168,9,"emit"],[188,16,168,1],[188,17,168,14,"_publicCallbacks"],[188,34,168,31,"AGENT_CHANGED"],[188,47,168,1],[188,49,168,46,"agentData"],[188,58,168,1],[189,0,169,1],[191,0,171,0],[191,11,171,9,"visitorQueuedWatcher"],[191,31,171,0],[191,32,171,30,"_ref12"],[191,38,171,0],[191,40,171,38,"_ref13"],[191,46,171,0],[191,48,171,46],[192,0,172,1],[192,8,172,5,"emitter"],[192,18,172,15,"_ref12"],[192,25,172,22,"emitter"],[192,32,172,1],[193,0,173,1],[193,8,173,5,"payload"],[193,18,173,15,"_ref13"],[193,25,173,22,"payload"],[193,32,173,1],[194,0,174,1],[194,8,174,5,"numberInQueue"],[194,24,174,21,"payload"],[194,32,174,29,"numberInQueue"],[194,45,174,1],[195,0,174,1],[195,8,175,5,"waitingTime"],[195,22,175,19,"payload"],[195,30,175,27,"waitingTime"],[195,41,174,1],[196,0,177,1,"emitter"],[196,12,177,9,"emit"],[196,16,177,1],[196,17,177,14,"_publicCallbacks"],[196,34,177,31,"VISITOR_QUEUED"],[196,48,177,1],[196,50,177,47],[197,0,178,2,"numberInQueue"],[197,21,178,17,"numberInQueue"],[197,34,177,47],[198,0,179,2,"waitingTime"],[198,19,179,15,"waitingTime"],[199,0,177,47],[199,5,177,1],[200,0,181,1],[202,0,183,0],[202,11,183,9,"typingIndicatorWatcher"],[202,33,183,0],[202,34,183,32,"_ref14"],[202,40,183,0],[202,42,183,40,"_ref15"],[202,48,183,0],[202,50,183,48],[203,0,184,1],[203,8,184,5,"emitter"],[203,18,184,15,"_ref14"],[203,25,184,22,"emitter"],[203,32,184,1],[204,0,185,1],[204,8,185,5,"payload"],[204,18,185,15,"_ref15"],[204,25,185,22,"payload"],[204,32,185,1],[205,0,186,1],[205,8,186,5,"authorId"],[205,19,186,16,"payload"],[205,27,186,24,"authorId"],[205,35,186,1],[206,0,186,1],[206,8,187,5,"isTyping"],[206,19,187,16,"payload"],[206,27,187,24,"isTyping"],[206,35,186,1],[207,0,189,1,"emitter"],[207,12,189,9,"emit"],[207,16,189,1],[207,17,189,14,"_publicCallbacks"],[207,34,189,31,"TYPING_INDICATOR"],[207,50,189,1],[207,52,189,49],[208,0,190,2,"authorId"],[208,16,190,12,"authorId"],[208,24,189,49],[209,0,191,2,"isTyping"],[209,16,191,12,"isTyping"],[210,0,189,49],[210,5,189,1],[211,0,193,1],[213,0,195,0],[213,11,195,9,"visitorIdWatcher"],[213,27,195,0],[213,28,195,26,"_ref16"],[213,34,195,0],[213,36,195,34],[214,0,196,1],[214,8,196,5,"emitter"],[214,18,196,15,"_ref16"],[214,25,196,22,"emitter"],[214,32,196,1],[215,0,197,1],[215,8,197,5,"visitorId"],[215,17,197,1],[216,0,198,1],[216,11,198,8,"regeneratorRuntime"],[216,30,198,27,"wrap"],[216,34,198,8],[216,35,198,32],[216,44,198,41,"visitorIdWatcher$"],[216,61,198,32],[216,62,198,59,"_context4"],[216,71,198,32],[216,73,198,70],[217,0,199,2],[217,13,199,9],[217,14,199,2],[217,16,199,12],[218,0,200,3],[218,16,200,11,"_context4"],[218,26,200,21,"prev"],[218,30,200,11],[218,33,200,28,"_context4"],[218,43,200,38,"next"],[218,47,200,3],[219,0,201,4],[219,15,201,9],[219,16,201,4],[220,0,202,5,"_context4"],[220,22,202,15,"next"],[220,26,202,5],[220,29,202,22],[220,30,202,5],[221,0,203,5],[221,19,203,12],[221,20,203,13],[221,23,203,16,"_effects"],[221,32,203,25,"call"],[221,36,203,12],[221,38,203,31,"_sagaUtils"],[221,49,203,42,"waitForState"],[221,61,203,12],[221,63,203,56,"_reducers"],[221,73,203,66,"propsSelectors"],[221,87,203,56],[221,88,203,81,"getPropertyVisitorId"],[221,108,203,12],[221,109,203,5],[223,0,205,4],[223,15,205,9],[223,16,205,4],[224,0,206,5,"visitorId"],[224,24,206,17,"_context4"],[224,34,206,27,"sent"],[224,38,206,5],[225,0,208,5,"Promise"],[225,20,208,13,"resolve"],[225,27,208,5],[225,28,208,21],[225,30,208,5],[225,32,208,25,"then"],[225,36,208,5],[225,37,208,30],[225,49,208,42],[226,0,209,6,"emitter"],[226,22,209,14,"emit"],[226,26,209,6],[226,27,209,19,"_publicCallbacks"],[226,44,209,36,"VISITOR_DATA"],[226,56,209,6],[226,58,209,50],[227,0,210,7,"id"],[227,20,210,11,"visitorId"],[228,0,209,50],[228,15,209,6],[229,0,212,6],[229,13,208,5],[231,0,214,4],[231,15,214,9],[231,16,214,4],[232,0,215,4],[232,15,215,9],[232,20,215,4],[233,0,216,5],[233,19,216,12,"_context4"],[233,29,216,22,"stop"],[233,33,216,12],[233,35,216,5],[234,0,200,3],[235,0,218,3],[236,0,219,2],[236,5,198,8],[236,7,219,4,"_marked4"],[236,15,198,8],[236,17,219,14],[236,21,198,8],[236,22,198,1],[237,0,220,1],[239,0,222,0],[239,11,222,9,"_callee"],[239,18,222,0],[239,19,222,17,"_ref17"],[239,25,222,0],[239,27,222,25],[240,0,223,1],[240,8,223,5,"emitter"],[240,18,223,15,"_ref17"],[240,25,223,22,"emitter"],[240,32,223,1],[241,0,224,1],[241,11,224,8,"regeneratorRuntime"],[241,30,224,27,"wrap"],[241,34,224,8],[241,35,224,32],[241,44,224,41,"_callee$"],[241,52,224,32],[241,53,224,50,"_context5"],[241,62,224,32],[241,64,224,61],[242,0,225,2],[242,13,225,9],[242,14,225,2],[242,16,225,12],[243,0,226,3],[243,16,226,11,"_context5"],[243,26,226,21,"prev"],[243,30,226,11],[243,33,226,28,"_context5"],[243,43,226,38,"next"],[243,47,226,3],[244,0,227,4],[244,15,227,9],[244,16,227,4],[245,0,228,5,"_context5"],[245,22,228,15,"next"],[245,26,228,5],[245,29,228,22],[245,30,228,5],[246,0,229,5],[246,19,229,12],[246,20,229,13],[246,23,229,16,"_effects"],[246,32,229,25,"fork"],[246,36,229,12],[246,38,229,31,"visitorIdWatcher"],[246,54,229,12],[246,56,229,49],[247,0,229,51,"emitter"],[247,23,229,60,"emitter"],[248,0,229,49],[248,13,229,12],[248,14,229,5],[250,0,231,4],[250,15,231,9],[250,16,231,4],[251,0,232,5,"_context5"],[251,22,232,15,"next"],[251,26,232,5],[251,29,232,22],[251,30,232,5],[252,0,233,5],[252,19,233,12],[252,20,233,13],[252,23,233,16,"_effects"],[252,32,233,25,"takeEvery"],[252,41,233,12],[252,43,233,36,"chatActions"],[252,55,233,48,"chatStarted"],[252,66,233,36],[252,67,233,60,"getActionName"],[252,80,233,36],[252,82,233,12],[252,84,233,77,"startChatWatcher"],[252,100,233,12],[252,102,233,95],[253,0,233,97,"emitter"],[253,23,233,106,"emitter"],[254,0,233,95],[254,13,233,12],[254,14,233,5],[256,0,235,4],[256,15,235,9],[256,16,235,4],[257,0,236,5,"_context5"],[257,22,236,15,"next"],[257,26,236,5],[257,29,236,22],[257,30,236,5],[258,0,237,5],[258,19,237,12],[258,20,237,13],[258,23,237,16,"_effects"],[258,32,237,25,"takeEvery"],[258,41,237,12],[258,43,237,36,"_propsActions2"],[258,58,237,51,"default"],[258,65,237,36],[258,66,237,59,"setPropertyChatStatus"],[258,87,237,36],[258,88,237,81,"getActionName"],[258,101,237,36],[258,103,237,12],[258,105,237,98,"statusWatcher"],[258,118,237,12],[258,120,237,113],[259,0,237,115,"emitter"],[259,23,237,124,"emitter"],[260,0,237,113],[260,13,237,12],[260,14,237,5],[262,0,239,4],[262,15,239,9],[262,16,239,4],[263,0,240,5,"_context5"],[263,22,240,15,"next"],[263,26,240,5],[263,29,240,22],[263,30,240,5],[264,0,241,5],[264,19,241,12],[264,20,241,13],[264,23,241,16,"_effects"],[264,32,241,25,"takeEvery"],[264,41,241,12],[264,43,241,36,"_propsActions2"],[264,58,241,51,"default"],[264,65,241,36],[264,66,241,59,"setPropertyConnectionStatus"],[264,93,241,36],[264,94,241,87,"getActionName"],[264,107,241,36],[264,109,241,12],[264,111,241,104,"connectionStatusWatcher"],[264,134,241,12],[264,136,241,129],[265,0,241,131,"emitter"],[265,23,241,140,"emitter"],[266,0,241,129],[266,13,241,12],[266,14,241,5],[268,0,243,4],[268,15,243,9],[268,16,243,4],[269,0,244,5,"_context5"],[269,22,244,15,"next"],[269,26,244,5],[269,29,244,22],[269,31,244,5],[270,0,245,5],[270,19,245,12],[270,20,245,13],[270,23,245,16,"_effects"],[270,32,245,25,"takeEvery"],[270,41,245,12],[270,43,245,36,"chatActions"],[270,55,245,48,"newMessage"],[270,65,245,36],[270,66,245,59,"getActionName"],[270,79,245,36],[270,81,245,12],[270,83,245,76,"newMessageWatcher"],[270,100,245,12],[270,102,245,95],[271,0,245,97,"emitter"],[271,23,245,106,"emitter"],[272,0,245,95],[272,13,245,12],[272,14,245,5],[274,0,247,4],[274,15,247,9],[274,17,247,4],[275,0,248,5,"_context5"],[275,22,248,15,"next"],[275,26,248,5],[275,29,248,22],[275,31,248,5],[276,0,249,5],[276,19,249,12],[276,20,249,13],[276,23,249,16,"_effects"],[276,32,249,25,"takeEvery"],[276,41,249,12],[276,43,249,36,"chatActions"],[276,55,249,48,"newFile"],[276,62,249,36],[276,63,249,56,"getActionName"],[276,76,249,36],[276,78,249,12],[276,80,249,73,"newFileWatcher"],[276,94,249,12],[276,96,249,89],[277,0,249,91,"emitter"],[277,23,249,100,"emitter"],[278,0,249,89],[278,13,249,12],[278,14,249,5],[280,0,251,4],[280,15,251,9],[280,17,251,4],[281,0,252,5,"_context5"],[281,22,252,15,"next"],[281,26,252,5],[281,29,252,22],[281,31,252,5],[282,0,253,5],[282,19,253,12],[282,20,253,13],[282,23,253,16,"_effects"],[282,32,253,25,"takeEvery"],[282,41,253,12],[282,43,253,36,"chatActions"],[282,55,253,48,"newAgent"],[282,63,253,36],[282,64,253,57,"getActionName"],[282,77,253,36],[282,79,253,12],[282,81,253,74,"newAgentWatcher"],[282,96,253,12],[282,98,253,91],[283,0,253,93,"emitter"],[283,23,253,102,"emitter"],[284,0,253,91],[284,13,253,12],[284,14,253,5],[286,0,255,4],[286,15,255,9],[286,17,255,4],[287,0,256,5,"_context5"],[287,22,256,15,"next"],[287,26,256,5],[287,29,256,22],[287,31,256,5],[288,0,257,5],[288,19,257,12],[288,20,257,13],[288,23,257,16,"_effects"],[288,32,257,25,"takeEvery"],[288,41,257,12],[288,43,257,36,"chatActions"],[288,55,257,48,"visitorQueued"],[288,68,257,36],[288,69,257,62,"getActionName"],[288,82,257,36],[288,84,257,12],[288,86,257,79,"visitorQueuedWatcher"],[288,106,257,12],[288,108,257,101],[289,0,257,103,"emitter"],[289,23,257,112,"emitter"],[290,0,257,101],[290,13,257,12],[290,14,257,5],[292,0,259,4],[292,15,259,9],[292,17,259,4],[293,0,260,5,"_context5"],[293,22,260,15,"next"],[293,26,260,5],[293,29,260,22],[293,31,260,5],[294,0,261,5],[294,19,261,12],[294,20,261,13],[294,23,261,16,"_effects"],[294,32,261,25,"takeEvery"],[294,41,261,12],[294,43,261,36,"chatActions"],[294,55,261,48,"typingIndicator"],[294,70,261,36],[294,71,261,64,"getActionName"],[294,84,261,36],[294,86,261,12],[294,88,261,81,"typingIndicatorWatcher"],[294,110,261,12],[294,112,261,105],[295,0,261,107,"emitter"],[295,23,261,116,"emitter"],[296,0,261,105],[296,13,261,12],[296,14,261,5],[298,0,263,4],[298,15,263,9],[298,17,263,4],[299,0,264,4],[299,15,264,9],[299,20,264,4],[300,0,265,5],[300,19,265,12,"_context5"],[300,29,265,22,"stop"],[300,33,265,12],[300,35,265,5],[301,0,226,3],[302,0,267,3],[303,0,268,2],[303,5,224,8],[303,7,268,4,"_marked5"],[303,15,224,8],[303,17,268,14],[303,21,224,8],[303,22,224,1],[304,0,269,1]]},"type":"js/module"}]}