{"dependencies":[{"name":"../utils/log.js","isAsync":false}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _log = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[0], \"../utils/log.js\"));\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n  var log = new _log.default('EventTarget');\n  log.disable();\n\n  var EventTarget = function () {\n    function EventTarget() {\n      _classCallCheck(this, EventTarget);\n\n      log.info('constructor called');\n      this.listeners = {};\n    }\n\n    _createClass(EventTarget, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, cb) {\n        log.info('add event listener', type, cb);\n\n        if (!(type in this.listeners)) {\n          this.listeners[type] = [];\n        }\n\n        this.listeners[type].push(cb);\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, cb) {\n        log.info('remove event listener', type, cb);\n        if (!(type in this.listeners)) return;\n        var handlers = this.listeners[type];\n\n        for (var i in handlers) {\n          if (cb === handlers[i]) {\n            handlers.splice(i, 1);\n            return this.removeEventListener(type, cb);\n          }\n        }\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(type, event) {\n        log.info('dispatch event', event);\n        if (!(type in this.listeners)) return;\n        var handlers = this.listeners[type];\n\n        for (var i in handlers) {\n          handlers[i].call(this, event);\n        }\n      }\n    }, {\n      key: \"clearEventListeners\",\n      value: function clearEventListeners() {\n        for (var i in this.listeners) {\n          delete this.listeners[i];\n        }\n      }\n    }]);\n\n    return EventTarget;\n  }();\n\n  exports.default = EventTarget;\n});","map":[[7,0,5,0],[17,0,7,0],[17,6,7,6,"log"],[17,12,7,12],[17,16,7,16,"Log"],[17,28,7,12],[17,29,7,20],[17,42,7,12],[17,43,7,0],[18,0,9,0,"log"],[18,6,9,4,"disable"],[18,13,9,0],[20,6,11,21,"EventTarget"],[20,17],[21,0,15,2],[21,27,15,16],[22,0,15,16],[24,0,16,4,"log"],[24,10,16,8,"info"],[24,14,16,4],[24,15,16,13],[24,35,16,4],[25,0,17,4],[25,11,17,9,"listeners"],[25,20,17,4],[25,23,17,21],[25,25,17,4],[26,0,18,3],[30,39,25,19,"type"],[30,43],[30,45,25,32,"cb"],[30,47],[30,49,25,49],[31,0,26,4,"log"],[31,12,26,8,"info"],[31,16,26,4],[31,17,26,13],[31,37,26,4],[31,39,26,35,"type"],[31,43,26,4],[31,45,26,41,"cb"],[31,47,26,4],[33,0,27,4],[33,12,27,7],[33,14,27,9,"type"],[33,22,27,17],[33,27,27,22,"listeners"],[33,36,27,7],[33,37,27,4],[33,39,27,34],[34,0,28,6],[34,15,28,11,"listeners"],[34,24,28,6],[34,25,28,21,"type"],[34,29,28,6],[34,33,28,29],[34,35,28,6],[35,0,29,5],[37,0,30,4],[37,13,30,9,"listeners"],[37,22,30,4],[37,23,30,19,"type"],[37,27,30,4],[37,29,30,25,"push"],[37,33,30,4],[37,34,30,30,"cb"],[37,36,30,4],[38,0,31,3],[41,42,39,22,"type"],[41,46],[41,48,39,35,"cb"],[41,50],[41,52,39,50],[42,0,40,4,"log"],[42,12,40,8,"info"],[42,16,40,4],[42,17,40,13],[42,40,40,4],[42,42,40,38,"type"],[42,46,40,4],[42,48,40,44,"cb"],[42,50,40,4],[43,0,41,4],[43,12,41,7],[43,14,41,9,"type"],[43,22,41,17],[43,27,41,22,"listeners"],[43,36,41,7],[43,37,41,4],[43,39,42,6],[44,0,43,4],[44,12,43,8,"handlers"],[44,23,43,19],[44,28,43,24,"listeners"],[44,37,43,19],[44,38,43,34,"type"],[44,42,43,19],[44,43,43,4],[46,0,44,4],[46,13,44,8],[46,17,44,12,"i"],[46,18,44,4],[46,22,44,17,"handlers"],[46,30,44,4],[46,32,44,27],[47,0,45,6],[47,14,45,9,"cb"],[47,21,45,16,"handlers"],[47,30,45,25,"i"],[47,31,45,16],[47,32,45,6],[47,34,45,29],[48,0,46,8,"handlers"],[48,21,46,17,"splice"],[48,27,46,8],[48,28,46,24,"i"],[48,29,46,8],[48,31,46,26],[48,32,46,8],[49,0,47,8],[49,19,47,15],[49,24,47,20,"removeEventListener"],[49,43,47,15],[49,44,47,40,"type"],[49,48,47,15],[49,50,47,46,"cb"],[49,52,47,15],[49,53,47,8],[50,0,48,7],[51,0,49,5],[52,0,50,3],[55,36,57,16,"type"],[55,40],[55,42,57,28,"event"],[55,47],[55,49,57,41],[56,0,58,4,"log"],[56,12,58,8,"info"],[56,16,58,4],[56,17,58,13],[56,33,58,4],[56,35,58,31,"event"],[56,40,58,4],[57,0,59,4],[57,12,59,7],[57,14,59,9,"type"],[57,22,59,17],[57,27,59,22,"listeners"],[57,36,59,7],[57,37,59,4],[57,39,60,6],[58,0,61,4],[58,12,61,8,"handlers"],[58,23,61,19],[58,28,61,24,"listeners"],[58,37,61,19],[58,38,61,34,"type"],[58,42,61,19],[58,43,61,4],[60,0,62,4],[60,13,62,8],[60,17,62,12,"i"],[60,18,62,4],[60,22,62,17,"handlers"],[60,30,62,4],[60,32,62,27],[61,0,63,6,"handlers"],[61,19,63,15,"i"],[61,20,63,6],[61,22,63,18,"call"],[61,26,63,6],[61,27,63,23],[61,31,63,6],[61,33,63,29,"event"],[61,38,63,6],[62,0,64,5],[63,0,66,3],[66,44,73,24],[67,0,74,4],[67,13,74,8],[67,17,74,12,"i"],[67,18,74,4],[67,22,74,17],[67,27,74,22,"listeners"],[67,36,74,4],[67,38,74,33],[68,0,75,6],[68,17,75,13],[68,22,75,18,"listeners"],[68,31,75,13],[68,32,75,28,"i"],[68,33,75,13],[68,34,75,6],[69,0,76,5],[70,0,77,3]]},"type":"js/module"}]}